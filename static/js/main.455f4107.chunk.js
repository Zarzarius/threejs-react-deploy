(this.webpackJsonptesla=this.webpackJsonptesla||[]).push([[0],{44:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(34),s=n.n(r),i=(n(44),n(12)),a=n(50),o=n(35),j=n(6);Object(i.b)({OrbitControls:o.a});var l=function(){var e=Object(i.e)(),t=e.camera,n=e.gl;return Object(j.jsx)("orbitControls",{attach:"orbitControls",args:[t,n.domElement]})},b=n(7),h=n(9),u=function(e){var t=Object(a.c)((function(){return Object(b.a)({args:[20,1,10]},e)})),n=Object(h.a)(t,2),c=n[0];n[1];return Object(j.jsxs)("mesh",Object(b.a)(Object(b.a)({ref:c},e),{},{receiveShadow:!0,children:[Object(j.jsx)("boxBufferGeometry",{args:[200,1,200]}),Object(j.jsx)("meshPhysicalMaterial",{transparent:!0,opacity:.2})]}))},d=n(0),O=function(e){var t=Object(i.d)(d.TextureLoader,"/street.jpg"),n=Object(i.e)().gl,r=Object(c.useMemo)((function(){return new d.WebGLCubeRenderTarget(t.image.height).fromEquirectangularTexture(n,t)}),[]);return Object(j.jsx)("primitive",{attach:"background",object:r})},f={activeMesh:{},activeMeshName:"Capot001_CAR_PAINT_0",cameraPos:new d.Vector3(9,2,4),target:new d.Vector3(4,0,0),shouldUpdate:!0},p=function(e){var t=function(e){f.activeMesh&&(f.activeMesh.material.color=new d.Color(e.target.style.background))};return Object(j.jsxs)("div",{style:{position:"absolute",zIndex:1,top:"20px",left:0,right:0,margin:"auto",width:"fit-content",display:"flex"},children:[Object(j.jsx)("div",{onClick:t,style:{height:50,width:50,background:"red"}}),Object(j.jsx)("div",{onClick:t,style:{height:50,width:50,background:"yellow"}}),Object(j.jsx)("div",{onClick:t,style:{height:50,width:50,background:"purple"}})]})},g=function(){return Object(i.c)((function(e){var t=e.camera,n=e.scene;(f.activeMesh.name!==f.activeMeshName&&(f.activeMesh=n.getObjectByName(f.activeMeshName)||{}),f.shouldUpdate)&&(t.position.lerp(f.cameraPos,.1),n.orbitControls.target.lerp(f.target,.1),n.orbitControls.update(),t.position.clone().sub(f.cameraPos).length()<.1&&(f.shouldUpdate=!1))})),null},m=n(14),x={zIndex:1,position:"absolute",bottom:"30vh",height:"30px",width:"30px",background:"white",textAlign:"center",borderRadius:"100%",fontSize:20,fontWeight:"bold",opacity:.7,border:"1px solid black",cursor:"pointer"},v=function(){var e={1:{cameraPos:[9,2,4],target:[4,0,0],name:"object005_bod_0"},2:{cameraPos:[1,2,5],target:[-4,0,0],name:"Capot001_CAR_PAINT_0"}},t=function(t){var n,c;(n=f.cameraPos).set.apply(n,Object(m.a)(e[t].cameraPos)),(c=f.target).set.apply(c,Object(m.a)(e[t].target)),f.activeMeshName=e[t].name,f.shouldUpdate=!0};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{onClick:function(e){return t(2)},style:Object(b.a)({left:"40vw"},x),children:"<"}),Object(j.jsx)("button",{onClick:function(e){return t(1)},style:Object(b.a)({right:"40vw"},x),children:">"})]})},w=n(22),y=function(){var e=Object(c.useState)(null),t=Object(h.a)(e,2),n=t[0],r=t[1],s=Object(i.e)().scene;return Object(c.useEffect)((function(){s.lights&&3===s.length&&r(s.lights)}),[s.lights]),n?Object(j.jsxs)(w.c,{children:[Object(j.jsx)(w.b,{focusDistance:0,focalLength:.02,bokehScale:2,height:480}),Object(j.jsx)(w.a,{luminanceThreshold:.5,luminanceSmoothing:.9,height:300}),n.map((function(e){return Object(j.jsx)(w.d,{sun:e.current})}))]}):null},M=n(38),C=function(e){var t=e.position,n=void 0===t?[0,0,0]:t,c=e.offset,r=void 0===c?[0,0,0]:c,s=e.dims,i=void 0===s?[1,1,1]:s,o=e.visible,l=void 0!==o&&o,b=e.children,u=Object(a.c)((function(){return{mass:1,args:i,position:n}})),d=Object(h.a)(u,2),O=d[0],f=d[1];return Object(j.jsxs)("group",{ref:O,api:f,children:[Object(j.jsxs)("mesh",{scale:i,visible:l,children:[Object(j.jsx)("boxBufferGeometry",{}),Object(j.jsx)("meshPhysicalMaterial",{wireframe:!0})]}),Object(j.jsx)("group",{position:r,children:b})]})},k=n(39);Object(i.b)({DragControls:k.a});var S=function(e){var t=Object(c.useState)([]),n=Object(h.a)(t,2),r=n[0],s=n[1],a=Object(c.useRef)(),o=Object(c.useRef)(),l=Object(i.e)(),b=l.camera,u=l.gl,d=l.scene;return Object(c.useEffect)((function(){s(a.current.children)}),[]),Object(c.useEffect)((function(){o.current.addEventListener("hoveron",(function(e){return d.orbitControls.enabled=!1})),o.current.addEventListener("hoveroff",(function(e){return d.orbitControls.enabled=!0})),o.current.addEventListener("dragstart",(function(e){var t;null===(t=e.object.api)||void 0===t||t.mass.set(0)})),o.current.addEventListener("dragend",(function(e){var t;null===(t=e.object.api)||void 0===t||t.mass.set(1)})),o.current.addEventListener("drag",(function(e){var t,n;null===(t=e.object.api)||void 0===t||t.position.copy(e.object.position),null===(n=e.object.api)||void 0===n||n.velocity.set(0,0,0)}))}),[r]),Object(j.jsxs)("group",{ref:a,children:[Object(j.jsx)("dragControls",{transformGroup:e.transformGroup,ref:o,args:[r,b,u.domElement]}),e.children]})},E=n(40),P=function(e){var t,n=Object(i.d)(E.a,""+e.path);return n.animations.length>0&&(t=new d.AnimationMixer(n.scene),n.animations.forEach((function(e){t.clipAction(e).play()}))),Object(i.c)((function(e,n){var c;null===(c=t)||void 0===c||c.update(n)})),n.scene.traverse((function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0,e.material.side=d.FrontSide)})),Object(j.jsx)("primitive",{object:n.scene,scale:e.scale})},_=function(e){return Object(M.a)(e),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(c.Suspense,{fallback:null,children:[Object(j.jsx)(S,{transformGroup:!0,children:Object(j.jsx)(C,{position:[-5,4,0],dims:[3,2,6],offset:[0,-.4,.8],children:Object(j.jsx)(P,{scale:new Array(3).fill(.01),path:"./tesla_model_3/scene.gltf"})})}),Object(j.jsx)(S,{transformGroup:!0,children:Object(j.jsx)(C,{position:[5,4,0],dims:[3,2,7],offset:[0,-.8,.2],children:Object(j.jsx)(P,{scale:new Array(3).fill(.013),path:"./tesla_model_s/scene.gltf"})})}),Object(j.jsx)("group",{rotation:[0,Math.PI,0],children:Object(j.jsx)(P,{path:"./mech_drone/scene.gltf",scale:new Array(3).fill(.01)})})]})})},L=function(e){var t=Object(c.useRef)(),n=Object(i.e)().scene;return Object(c.useEffect)((function(){n.lights?n.lights.push(t):n.lights=[t]}),[]),Object(j.jsxs)("mesh",Object(b.a)(Object(b.a)({},e),{},{ref:t,children:[Object(j.jsx)("pointLight",{castShadow:!0,"shadow-mapSize-height":Math.pow(2,10),"shadow-mapSize-width":Math.pow(2,10),"shadow-radius":10}),Object(j.jsx)("sphereBufferGeometry",{args:[.2,10,10]}),Object(j.jsx)("meshPhongMaterial",{emissive:"white"})]}))},A=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("ambientLight",{intensity:.2}),Object(j.jsx)("directionalLight",{"shadow-mapSize-height":Math.pow(2,10),"shadow-mapSize-width":Math.pow(2,10),"shadow-radius":10,castShadow:!0,intensity:1,position:[6,3,0]}),Object(j.jsx)(L,{position:[6,3,0]}),Object(j.jsx)(L,{position:[0,3,0]}),Object(j.jsx)(L,{position:[-6,3,0]})]})};var G=function(){return Object(j.jsxs)("div",{style:{height:"100vh",width:"100vh"},children:[Object(j.jsx)(p,{}),Object(j.jsx)(v,{}),Object(j.jsxs)(i.a,{gl:{owerPreference:"high-performance",antialias:!1,stencil:!1},shadowMap:!0,style:{background:"black"},camera:{position:[7,7,7]},children:[Object(j.jsx)(g,{}),Object(j.jsx)(A,{}),Object(j.jsx)(l,{}),Object(j.jsx)(c.Suspense,{fallback:null,children:Object(j.jsx)(O,{})}),Object(j.jsx)("axesHelper",{args:[5]}),Object(j.jsxs)(a.a,{children:[Object(j.jsx)(_,{}),Object(j.jsx)(u,{position:[0,-.5,0]})]}),Object(j.jsx)(y,{})]})]})};s.a.render(Object(j.jsx)(G,{}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.455f4107.chunk.js.map